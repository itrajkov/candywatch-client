(function(t){function e(e){for(var i,s,a=e[0],u=e[1],c=e[2],l=0,p=[];l<a.length;l++)s=a[l],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(t[i]=u[i]);d&&d(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],i=!0,a=1;a<o.length;a++){var u=o[a];0!==n[u]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=o[0]))}return t}var i={},n={app:0},r=[];function s(e){if(i[e])return i[e].exports;var o=i[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=i,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(o,i,function(e){return t[e]}.bind(null,i));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var d=u;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},1:function(t,e){},"20ab":function(t,e,o){"use strict";o("ff99")},"418f":function(t,e,o){"use strict";o("8c29")},"486f":function(t,e,o){t.exports=o.p+"img/candy.57a60196.png"},"4f3f":function(t,e,o){"use strict";o("de83")},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var i=o("2b0e"),n=o("e0ec"),r=o.n(n),s=o("5c96"),a=o.n(s),u=o("8c4f"),c=o("4eb5"),d=o.n(c),l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},p=[],f={name:"App",data:function(){return{}}},m=f,h=(o("034f"),o("2877")),v=Object(h["a"])(m,l,p,!1,null,null,null),b=v.exports,y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"room"}},[t.room.exists?o("div",{attrs:{id:"room_content"}},[o("div",{attrs:{id:"header"}},[o("SearchBar",{attrs:{id:"searchbar"},on:{clicked:t.setCode}})],1),o("div",{attrs:{id:"main"}},[o("div",{attrs:{id:"main-left"}}),o("Video",{attrs:{id:"iframe",videoId:t.room.videoCode,bus:t.bus},on:{skip_video:t.skipVideo,pause_video:t.pauseVideo,play_video:t.playVideo}}),o("div",{attrs:{id:"main-right"}},[o("div",{attrs:{id:"roomID"}},[o("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:t.getRoomID(),expression:"getRoomID()",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"}],attrs:{id:"copy",icon:"el-icon-copy-document",round:""}}),o("h2",[t._v(t._s(t.room.roomID))])],1)])],1)]):o("div",[o("h2",[t._v("Room not found")])])])},_=[],g=(o("d3b7"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"searchdiv"}},[o("el-input",{attrs:{id:"link",placeholder:"Video link"},model:{value:t.link,callback:function(e){t.link=e},expression:"link"}}),o("el-button",{attrs:{id:"playVid",icon:"el-icon-right"},on:{click:t.passCode}})],1)}),I=[],k=(o("9911"),{name:"SearchBar",data:function(){return{link:"",videoCode:""}},methods:{getCode:function(){return this.videoCode=this.$youtube.getIdFromUrl(this.link),this.link="",this.videoCode},passCode:function(){this.$emit("clicked",this.getCode())}}}),C=k,$=(o("418f"),Object(h["a"])(C,g,I,!1,null,null,null)),x=$.exports,w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{attrs:{id:"iframeDiv"}},[o("youtube",{ref:"youtube",attrs:{"player-vars":t.playerVars,"video-id":t.vidCode,resize:!0},on:{playing:t.playing,paused:t.paused}})],1),o("div",{attrs:{id:"media-bar"}},[o("el-button",{attrs:{id:"play",type:"success",icon:t.buttonIcon,circle:""},on:{click:function(e){return t.playPause()}}}),o("el-slider",{attrs:{"format-tooltip":t.formatToolTip,max:t.vidDuration,id:"slider"},on:{change:t.seekTo},model:{value:t.vidTime,callback:function(e){t.vidTime=e},expression:"vidTime"}})],1)])},D=[],T=(o("25f0"),{name:"Video",props:{videoId:{type:String,default:"GMIQ8ZWRQXo",required:!0},bus:{}},components:{},data:function(){return{buttonIcon:"el-icon-video-play",vidTime:0,isPlaying:!1,vidDuration:0,vidCode:this.videoId,playerVars:{controls:0,disablekb:1}}},methods:{seekTo:function(t){this.$emit("skip_video",t)},playPause:function(){this.isPlaying?this.$emit("pause_video"):this.$emit("play_video")},playing:function(){this.player.playVideo(),this.buttonIcon="el-icon-video-pause",this.isPlaying=!0},paused:function(){this.player.pauseVideo(),this.buttonIcon="el-icon-video-play",this.isPlaying=!1},skipVideo:function(t){this.vidTime=t,this.player.seekTo(t)},setVideo:function(t){this.vidCode=t},setCurrentTime:function(){var t=this;this.player.getCurrentTime().then((function(e){return t.vidTime=e})),this.getDuration()},getDuration:function(){var t=this;this.player.getDuration().then((function(e){return t.vidDuration=e}))},updateTimer:function(){var t=this;window.setInterval((function(){t.setCurrentTime()}),1e3)},formatToolTip:function(t){var e=parseInt(t/60),o=parseInt(t%60);return e.toString()+":"+o.toString()}},created:function(){this.updateTimer()},computed:{player:function(){return this.$refs.youtube.player}},mounted:function(){this.bus.$on("play-video",this.playing),this.bus.$on("pause-video",this.paused),this.bus.$on("skip-video",this.skipVideo),this.bus.$on("set-video",this.setVideo)}}),V=T,j=(o("5b6d"),Object(h["a"])(V,w,D,!1,null,null,null)),O=j.exports,R=o("8055"),P=o.n(R),S=o("efc4"),E=P()(S.API_URL),M={name:"Room",components:{Video:O,SearchBar:x},data:function(){return{room:{videoCode:"GMIQ8ZWRQXo",roomID:this.$route.params.id,exists:!1,center:!1},bus:new i["default"],mainkey:0}},methods:{onCopy:function(){this.$notify.success({dangerouslyUseHTMLString:!0,title:"Copied!",duration:500})},setRoomExists:function(){var t=this;fetch(S.API_URL+"/room_exists/"+this.$route.params.id).then((function(e){200===e.status?t.room.exists=!0:t.room.exists=!1}))},playVideo:function(){E.emit("play_video",this.room.roomID)},pauseVideo:function(){E.emit("pause_video",this.room.roomID)},skipVideo:function(t){E.emit("skip_video",this.room.roomID,t)},setCode:function(t){E.emit("set_video",this.room.roomID,t)},getRoomID:function(){return"https://candywatch.net/room/"+this.room.roomID}},watch:{$route:function(){this.room.roomID=this.$route.params.id,this.setRoomExists()}},created:function(){var t=this;this.setRoomExists(),E.emit("joined_room",this.room.roomID),E.on("_pause_video",(function(){t.bus.$emit("pause-video")})),E.on("_play_video",(function(){t.bus.$emit("play-video")})),E.on("_skip_video",(function(e){t.bus.$emit("skip-video",e)})),E.on("_set_video",(function(e){t.bus.$emit("set-video",e)}))}},U=M,A=(o("4f3f"),Object(h["a"])(U,y,_,!1,null,"1416974b",null)),L=A.exports,J=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"home"}},[o("Candy",{staticClass:"animated bounceIn",attrs:{id:"candy"}}),o("h1",{staticClass:"animated bounceIn",attrs:{id:"title"}},[t._v("Candywatch")]),o("div",{attrs:{id:"buttons"}},[o("el-button",{staticClass:"animated bounceIn",attrs:{id:"createRoom",type:"primary"},on:{click:t.createRoom}},[t._v("Create room")]),o("br"),o("el-button",{staticClass:"animated bounceIn",attrs:{id:"joinRoom",type:"primary"}},[t._v("Join room")])],1)],1)},Q=[],B=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},N=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("img",{attrs:{draggable:"false",src:o("486f")}})])}],G={name:"Candy"},W=G,X=(o("849f"),Object(h["a"])(W,B,N,!1,null,"a3eeb7da",null)),Z=X.exports,q=o("efc4"),z={methods:{createRoom:function(){var t=this;fetch(q.API_URL+"/create_room").then((function(t){return t.json()})).then((function(e){return t.$router.push("/room/"+e.roomID)}))}},components:{Candy:Z}},F=z,H=(o("20ab"),Object(h["a"])(F,J,Q,!1,null,"d9438118",null)),K=H.exports,Y=[{path:"/",component:K},{path:"/room/:id",component:L}],tt=Y;o("0fae");i["default"].use(a.a),i["default"].use(r.a),i["default"].use(u["a"]),i["default"].use(d.a);var et=new u["a"]({mode:"history",routes:tt});new i["default"]({router:et,render:function(t){return t(b)}}).$mount("#app")},"5b6d":function(t,e,o){"use strict";o("b84a")},"849f":function(t,e,o){"use strict";o("aba8")},"85ec":function(t,e,o){},"8c29":function(t,e,o){},aba8:function(t,e,o){},b84a:function(t,e,o){},de83:function(t,e,o){},efc4:function(t){t.exports=JSON.parse('{"API_URL":"https://www.candywatch.net:3000"}')},ff99:function(t,e,o){}});
//# sourceMappingURL=app.44757095.js.map