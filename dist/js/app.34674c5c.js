(function(t){function e(e){for(var n,a,s=e[0],u=e[1],c=e[2],d=0,p=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(p.length)p.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,s=1;s<o.length;s++){var u=o[s];0!==i[u]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=o[0]))}return t}var n={},i={app:0},r=[];function a(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=n,a.d=function(t,e,o){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(o,n,function(e){return t[e]}.bind(null,n));return o},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=u;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";o("85ec")},1:function(t,e){},"23f4":function(t,e,o){"use strict";o("f473")},"418f":function(t,e,o){"use strict";o("8c29")},"486f":function(t,e,o){t.exports=o.p+"img/candy.57a60196.png"},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=o("e0ec"),r=o.n(i),a=o("5c96"),s=o.n(a),u=o("8c4f"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},l=[],d={name:"App",data:function(){return{}}},p=d,f=(o("034f"),o("2877")),m=Object(f["a"])(p,c,l,!1,null,null,null),h=m.exports,v=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"room"}},[t.room.exists?o("div",{attrs:{id:"room_content"}},[o("el-row",[o("el-col",{attrs:{span:24}},[o("h2",[t._v("Room ID: "+t._s(t.room.roomID))]),o("br")])],1),o("el-row",[o("el-col",{attrs:{span:24}},[o("SearchBar",{on:{clicked:t.setCode}})],1)],1),o("el-row",[o("el-col",{attrs:{span:24}},[o("Video",{attrs:{videoId:t.room.videoCode,bus:t.bus},on:{pause_video:t.pauseVideo,play_video:t.playVideo}})],1)],1)],1):o("div",[o("h2",[t._v(" Room not found ")])])])},y=[],b=(o("d3b7"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"searchdiv"}},[o("el-row",[o("el-col",{attrs:{span:22}},[o("el-input",{attrs:{id:"link",placeholder:"Video link"},model:{value:t.link,callback:function(e){t.link=e},expression:"link"}})],1),o("el-col",{attrs:{span:2}},[o("el-button",{attrs:{id:"playVid",icon:"el-icon-right"},on:{click:t.passCode}})],1)],1)],1)}),_=[],g=(o("fb6a"),o("9911"),{name:"SearchBar",data:function(){return{link:"",videoCode:""}},methods:{getCode:function(){return this.videoCode=this.link.slice(32),this.link="",this.videoCode},passCode:function(){this.$emit("clicked",this.getCode())}}}),x=g,C=(o("418f"),Object(f["a"])(x,b,_,!1,null,null,null)),I=C.exports,w=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-row",[o("el-col",{attrs:{span:24}},[o("youtube",{ref:"youtube",attrs:{"video-id":t.videoId},on:{playing:t.playing,paused:t.paused}}),o("br")],1)],1),o("div",{attrs:{id:"media-bar"}},[o("el-button",{attrs:{id:"play",type:"success",icon:t.buttonIcon,circle:""},on:{click:t.playPause}}),o("el-slider",{attrs:{"format-tooltip":t.formatToolTip,max:t.vidDuration,id:"slider"},on:{change:t.seekTo},model:{value:t.vidTime,callback:function(e){t.vidTime=e},expression:"vidTime"}})],1)],1)},k=[],$=(o("25f0"),{name:"Video",props:{videoId:{type:String,default:"GMIQ8ZWRQXo",required:!0},bus:{}},components:{},data:function(){return{buttonIcon:"el-icon-video-play",vidTime:0,isPlaying:!1,vidDuration:0}},methods:{seekTo:function(t){this.player.seekTo(t)},playPause:function(){this.isPlaying?this.$emit("pause_video"):this.$emit("play_video")},playing:function(){this.player.playVideo(),this.buttonIcon="el-icon-video-pause",this.isPlaying=!0},paused:function(){this.player.pauseVideo(),this.buttonIcon="el-icon-video-play",this.isPlaying=!1},setCurrentTime:function(){var t=this;this.player.getCurrentTime().then((function(e){return t.vidTime=e})),this.getDuration()},getDuration:function(){var t=this;this.player.getDuration().then((function(e){return t.vidDuration=e}))},updateTimer:function(){var t=this;window.setInterval((function(){t.setCurrentTime()}),1e3)},formatToolTip:function(t){var e=parseInt(t/60),o=parseInt(t%60);return e.toString()+":"+o.toString()}},created:function(){this.updateTimer()},computed:{player:function(){return this.$refs.youtube.player}},mounted:function(){this.bus.$on("play-video",this.playing),this.bus.$on("pause-video",this.paused)}}),T=$,j=(o("5b6d"),Object(f["a"])(T,w,k,!1,null,null,null)),O=j.exports,D=o("8055"),P=o.n(D),R=P()("http://localhost:3000"),S={name:"Room",components:{Video:O,SearchBar:I},data:function(){return{room:{videoCode:"GMIQ8ZWRQXo",roomID:this.$route.params.id,exists:!1},bus:new n["default"]}},methods:{setCode:function(t){this.room.videoCode=t},setRoomExists:function(){var t=this;fetch("http://localhost:3000/room_exists/"+this.$route.params.id).then((function(e){200===e.status?t.room.exists=!0:t.room.exists=!1}))},playVideo:function(){R.emit("play_video",this.room.roomID)},pauseVideo:function(){R.emit("pause_video",this.room.roomID)}},watch:{$route:function(){this.room.roomID=this.$route.params.id,this.setRoomExists()}},created:function(){var t=this;this.setRoomExists(),R.emit("joined_room",this.room.roomID),R.on("_play_video",(function(){t.bus.$emit("play-video")})),R.on("_pause_video",(function(){t.bus.$emit("pause-video")}))}},V=S,E=(o("5ca1"),Object(f["a"])(V,v,y,!1,null,null,null)),M=E.exports,Q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"home"}},[o("Candy",{staticClass:"animated bounceIn",attrs:{id:"candy"}}),o("h1",{staticClass:"animated bounceIn",attrs:{id:"title"}},[t._v("Candywatch")]),o("el-button",{staticClass:"animated bounceIn",attrs:{id:"createRoom",type:"primary"},on:{click:t.createRoom}},[t._v("Create room")]),o("br"),o("el-button",{staticClass:"animated bounceIn",attrs:{id:"joinRoom",type:"primary"}},[t._v("Join room")])],1)},B=[],J=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},G=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{attrs:{src:o("486f")}})])}],W={name:"Candy"},X=W,Z=(o("23f4"),Object(f["a"])(X,J,G,!1,null,null,null)),q=Z.exports,A={methods:{createRoom:function(){var t=this;fetch("http://localhost:3000/create_room").then((function(t){return t.json()})).then((function(e){return t.$router.push("/room/"+e.roomID)}))}},components:{Candy:q}},z=A,F=(o("cccb"),Object(f["a"])(z,Q,B,!1,null,null,null)),H=F.exports,K=[{path:"/",component:H},{path:"/room/:id",component:M}],L=K;o("0fae");n["default"].use(s.a),n["default"].use(r.a),n["default"].use(u["a"]);var N=new u["a"]({mode:"history",routes:L});new n["default"]({router:N,render:function(t){return t(h)}}).$mount("#app")},"5b6d":function(t,e,o){"use strict";o("b84a")},"5ca1":function(t,e,o){"use strict";o("f255")},"5ced":function(t,e,o){},"85ec":function(t,e,o){},"8c29":function(t,e,o){},b84a:function(t,e,o){},cccb:function(t,e,o){"use strict";o("5ced")},f255:function(t,e,o){},f473:function(t,e,o){}});
//# sourceMappingURL=app.34674c5c.js.map