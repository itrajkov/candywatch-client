(function(e){function t(t){for(var n,s,a=t[0],u=t[1],c=t[2],d=0,p=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],n=!0,a=1;a<o.length;a++){var u=o[a];0!==i[u]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=o[0]))}return e}var n={},i={app:0},r=[];function s(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=n,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(o,n,function(t){return e[t]}.bind(null,n));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=u;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";o("85ec")},1:function(e,t){},"418f":function(e,t,o){"use strict";o("8c29")},"486f":function(e,t,o){e.exports=o.p+"img/candy.57a60196.png"},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=o("e0ec"),r=o.n(i),s=o("5c96"),a=o.n(s),u=o("8c4f"),c=o("4eb5"),l=o.n(c),d=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},p=[],f={name:"App",data:function(){return{}}},m=f,h=(o("034f"),o("2877")),v=Object(h["a"])(m,d,p,!1,null,null,null),b=v.exports,y=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"room"}},[e.room.exists?o("div",{attrs:{id:"room_content"}},[o("el-row",[o("el-col",{attrs:{span:24}},[o("div",{attrs:{id:"roomID"}},[o("el-button",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:e.room.roomID,expression:"room.roomID",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:e.onCopy,expression:"onCopy",arg:"success"}],attrs:{id:"copy",icon:"el-icon-copy-document",round:""}}),o("h2",[e._v(e._s(e.room.roomID))]),o("br")],1)])],1),o("el-row",[o("el-col",{attrs:{span:24}},[o("SearchBar",{on:{clicked:e.setCode}})],1)],1),o("el-row",[o("el-col",{attrs:{span:24}},[o("Video",{attrs:{videoId:e.room.videoCode,bus:e.bus},on:{skip_video:e.skipVideo,pause_video:e.pauseVideo,play_video:e.playVideo}})],1)],1)],1):o("div",[o("h2",[e._v("Room not found")])])])},_=[],g=(o("d3b7"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"searchdiv"}},[o("el-row",[o("el-col",{attrs:{span:22}},[o("el-input",{attrs:{id:"link",placeholder:"Video link"},model:{value:e.link,callback:function(t){e.link=t},expression:"link"}})],1),o("el-col",{attrs:{span:2}},[o("el-button",{attrs:{id:"playVid",icon:"el-icon-right"},on:{click:e.passCode}})],1)],1)],1)}),I=[],k=(o("fb6a"),o("9911"),{name:"SearchBar",data:function(){return{link:"",videoCode:""}},methods:{getCode:function(){return this.videoCode=this.link.slice(32),this.link="",this.videoCode},passCode:function(){this.$emit("clicked",this.getCode())}}}),x=k,C=(o("418f"),Object(h["a"])(x,g,I,!1,null,null,null)),$=C.exports,w=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",[o("el-col",{attrs:{span:24}},[o("youtube",{ref:"youtube",attrs:{"video-id":e.videoId},on:{playing:e.playing,paused:e.paused}}),o("br")],1)],1),o("div",{attrs:{id:"media-bar"}},[o("el-button",{attrs:{id:"play",type:"success",icon:e.buttonIcon,circle:""},on:{click:e.playPause}}),o("el-slider",{attrs:{"format-tooltip":e.formatToolTip,max:e.vidDuration,id:"slider"},on:{change:e.seekTo},model:{value:e.vidTime,callback:function(t){e.vidTime=t},expression:"vidTime"}})],1)],1)},T=[],j=(o("25f0"),{name:"Video",props:{videoId:{type:String,default:"GMIQ8ZWRQXo",required:!0},bus:{}},components:{},data:function(){return{buttonIcon:"el-icon-video-play",vidTime:0,isPlaying:!1,vidDuration:0}},methods:{seekTo:function(e){this.$emit("skip_video",e)},playPause:function(){this.isPlaying?this.$emit("pause_video"):this.$emit("play_video")},playing:function(){this.player.playVideo(),this.buttonIcon="el-icon-video-pause",this.isPlaying=!0},paused:function(){this.player.pauseVideo(),this.buttonIcon="el-icon-video-play",this.isPlaying=!1},skipVideo:function(e){this.vidTime=e,this.player.seekTo(e)},setVideo:function(e){this.videoId=e},setCurrentTime:function(){var e=this;this.player.getCurrentTime().then((function(t){return e.vidTime=t})),this.getDuration()},getDuration:function(){var e=this;this.player.getDuration().then((function(t){return e.vidDuration=t}))},updateTimer:function(){var e=this;window.setInterval((function(){e.setCurrentTime()}),1e3)},formatToolTip:function(e){var t=parseInt(e/60),o=parseInt(e%60);return t.toString()+":"+o.toString()}},created:function(){this.updateTimer()},computed:{player:function(){return this.$refs.youtube.player}},mounted:function(){this.bus.$on("play-video",this.playing),this.bus.$on("pause-video",this.paused),this.bus.$on("skip-video",this.skipVideo),this.bus.$on("set-video",this.setVideo)}}),D=j,O=(o("5b6d"),Object(h["a"])(D,w,T,!1,null,null,null)),P=O.exports,V=o("8055"),R=o.n(V),S=o("efc4"),E=R()(S.API_URL),M={name:"Room",components:{Video:P,SearchBar:$},data:function(){return{room:{videoCode:"GMIQ8ZWRQXo",roomID:this.$route.params.id,exists:!1,center:!1},bus:new n["default"]}},methods:{onCopy:function(){this.$notify.success({dangerouslyUseHTMLString:!0,title:"Copied!",duration:500})},setRoomExists:function(){var e=this;fetch(S.API_URL+"/room_exists/"+this.$route.params.id).then((function(t){200===t.status?e.room.exists=!0:e.room.exists=!1}))},playVideo:function(){E.emit("play_video",this.room.roomID)},pauseVideo:function(){E.emit("pause_video",this.room.roomID)},skipVideo:function(e){E.emit("skip_video",this.room.roomID,e)},setCode:function(e){E.emit("set_video",this.room.roomID,e)}},watch:{$route:function(){this.room.roomID=this.$route.params.id,this.setRoomExists()}},created:function(){var e=this;this.setRoomExists(),E.emit("joined_room",this.room.roomID),E.on("_pause_video",(function(){e.bus.$emit("pause-video")})),E.on("_play_video",(function(){e.bus.$emit("play-video")})),E.on("_skip_video",(function(t){e.bus.$emit("skip-video",t)})),E.on("_set_video",(function(t){e.bus.$emit("set-video",t)}))}},A=M,L=(o("5ca1"),Object(h["a"])(A,y,_,!1,null,null,null)),U=L.exports,J=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"home"}},[o("Candy",{staticClass:"animated bounceIn",attrs:{id:"candy"}}),o("h1",{staticClass:"animated bounceIn",attrs:{id:"title"}},[e._v("Candywatch")]),o("el-button",{staticClass:"animated bounceIn",attrs:{id:"createRoom",type:"primary"},on:{click:e.createRoom}},[e._v("Create room")]),o("br"),o("el-button",{staticClass:"animated bounceIn",attrs:{id:"joinRoom",type:"primary"}},[e._v("Join room")])],1)},Q=[],B=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},N=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("img",{attrs:{draggable:"false",src:o("486f")}})])}],G={name:"Candy"},W=G,X=(o("849f"),Object(h["a"])(W,B,N,!1,null,"a3eeb7da",null)),Z=X.exports,q=o("efc4"),H={methods:{createRoom:function(){var e=this;fetch(q.API_URL+"/create_room").then((function(e){return e.json()})).then((function(t){return e.$router.push("/room/"+t.roomID)}))}},components:{Candy:Z}},z=H,F=(o("99fe"),Object(h["a"])(z,J,Q,!1,null,"2ebe8dfc",null)),K=F.exports,Y=[{path:"/",component:K},{path:"/room/:id",component:U}],ee=Y;o("0fae");n["default"].use(a.a),n["default"].use(r.a),n["default"].use(u["a"]),n["default"].use(l.a);var te=new u["a"]({mode:"history",routes:ee});new n["default"]({router:te,render:function(e){return e(b)}}).$mount("#app")},"599e":function(e,t,o){},"5b6d":function(e,t,o){"use strict";o("b84a")},"5ca1":function(e,t,o){"use strict";o("f255")},"849f":function(e,t,o){"use strict";o("aba8")},"85ec":function(e,t,o){},"8c29":function(e,t,o){},"99fe":function(e,t,o){"use strict";o("599e")},aba8:function(e,t,o){},b84a:function(e,t,o){},efc4:function(e){e.exports=JSON.parse('{"API_URL":"http://localhost:3000"}')},f255:function(e,t,o){}});
//# sourceMappingURL=app.64a401fc.js.map